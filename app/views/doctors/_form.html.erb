<%= form_with(model: doctor) do |form| %>
    <% if doctor.errors.any? %>
        <div style="color: red">
        <h2><%= pluralize(doctor.errors.count, "error") %> prohibited this doctor from being saved:</h2>

        <ul>
            <% doctor.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        
        <% flash.each do |type, msg| %>
            <div class="alert alert-info">
            <%= msg %> 
            </div>
        <% end %>

        </div>
    <% end %>
    
    <div class="field">
        <%= form.label :npi %>
        <%= form.text_field :npi %>
    </div>

    <%= form.fields_for :person do |person_attributes|%>
    <div class="field">
        <%= person_attributes.label :first_name %>
        <%= person_attributes.text_field :first_name %>
    </div>
    <div class="field">
        <%= person_attributes.label :last_name %>
        <%= person_attributes.text_field :last_name %>
    </div>
    <% end %>

    <div>
        <%= form.submit %>
    </div>
<% end %>
